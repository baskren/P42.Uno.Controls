<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="MSBuild.Sdk.Extras/3.0.22">

  <PropertyGroup>
    <NoWarn>Uno0001</NoWarn>
    <TargetFramework Condition=" '$(GitHubActionTarget)' == 'WASM' ">netstandard2.0</TargetFramework>
    <TargetFrameworks Condition=" '$(GitHubActionTarget)' != 'WASM' ">netstandard2.0;Xamarin.iOS10;Xamarin.Mac20;MonoAndroid11.0;MonoAndroid10.0;</TargetFrameworks>
    <TargetFrameworks Condition=" '$(OS)' == 'Windows_NT' ">uap10.0.18362;$(TargetFrameworks);</TargetFrameworks>
  </PropertyGroup>

  <Target Name="TestMessage" BeforeTargets="DispatchToInnerBuilds" >

    <!-- Use $(Property Name) to reference a property -->
    <Message Text="BeforeDispatchToInnerBuilds GitHubActionTarget: $(GitHubActionTarget)" Importance="high"/>
    <Message Text="BeforeDispatchToInnerBuilds TargetFramework: $(TargetFramework)" Importance="high"/>

  </Target>

  <Target Name="TestMessage" BeforeTargets="Build" >

    <!-- Use $(Property Name) to reference a property -->
    <Message Text="BeforeTargetsBuild GitHubActionTarget: $(GitHubActionTarget)" Importance="high"/>
    <Message Text="BeforeTargetsBuild TargetFramework: $(TargetFramework)" Importance="high"/>

  </Target>


  <!-- WASM -->
  <Import Project=".\P42.Uno.Controls.WASM.props" Condition=" $(TargetFramework.StartsWith('net')) OR  '$(GitHubActionTarget)' == 'WASM' " />

  <!-- UWP -->
  <Import Project=".\P42.Uno.Controls.UWP.props" Condition=" $(TargetFramework.StartsWith('uap10.0')) " />

  <!-- ANDROID -->
  <Import Project=".\P42.Uno.Controls.Android.props" Condition=" $(TargetFramework.StartsWith('MonoAndroid')) " />

  <!-- IOS -->
  <Import Project=".\P42.Uno.Controls.iOS.props" Condition=" $(TargetFramework.StartsWith('Xamarin.iOS')) " />

  <!-- MACOS -->
  <Import Project=".\P42.Uno.Controls.MacOS.props" Condition=" $(TargetFramework.StartsWith('Xamarin.Mac20')) " />

  <!-- REFERENCES -->
  <ItemGroup>
    <ProjectReference Include="..\P42.Utils\P42.Utils.Uno\P42.Utils.Uno.csproj" />
    <ProjectReference Include="..\P42.Uno.Markup\P42.Uno.Markup\P42.Uno.Markup.csproj" />
  </ItemGroup>

</Project>